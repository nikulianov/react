{"version":3,"sources":["Components/common/formsControls.module.scss","Components/common/formsControls.js","util/validate.js","hoc/withAuthRedirect.jsx","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","Components/Profiles/Profile.module.scss","Components/Profiles/MyPosts/MyPosts.module.scss","Components/Profiles/MyPosts/Post/Post.module.scss","Components/Profiles/PersonContent/ProfileContent.module.scss","Components/Profiles/MyPosts/Post/Post.jsx","Components/Profiles/MyPosts/MyPosts.jsx","Components/Profiles/MyPosts/MyPostsContainer.jsx","Components/Profiles/PersonContent/StatusProfile/StatusProfileHook.jsx","Components/Profiles/PersonContent/ProfileContent.jsx","Components/Profiles/Profile.jsx","Redux/profile-select.js","Components/Profiles/ProfileContainer.jsx"],"names":["module","exports","TextArea","input","meta","props","hasError","touched","error","className","s","formControl","Input","required","value","maxLengthCreator","maxLength","length","mapStateToPropsRedirect","state","isAuth","auth","withAuthRedicert","Component","RedirectComponent","this","to","React","connect","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","TypeError","Post","post_block","avatar","text_post","message","MyPosts","memo","console","log","postsElement","posts","map","p","key","id","message_content","AddNewPostRedux","onSubmit","addPost","postText","post_content","reduxForm","form","handleSubmit","Field","name","component","placeholder","validate","MyPostsContainer","profilePage","dispatch","addPostCreateAction","StatusProfileHook","useState","editMode","setEditMode","status","setStatus","useEffect","onClick","onChange","e","currentTarget","autoFocus","updateStatusThunk","ProfileContent","profile","content_person","img_person","src","photos","large","alt","info_person","fullName","birth","city","education","web_site","contacts","website","Preloader","Profile","titleimg","getProfile","getStatus","getUserId","userId","ProfileContainer","match","params","getProfileThunk","getStatusThunk","compose","withRouter"],"mappings":"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","file":"static/js/4.8c7a8b01.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"formsControls_error__1QVHI\",\"formControl\":\"formsControls_formControl__5dwLN\",\"SistemErrorMessage\":\"formsControls_SistemErrorMessage__1oDNz\"};","import React from \"react\";\r\nimport s from \"./formsControls.module.scss\";\r\n\r\n\r\n\r\nexport const TextArea = ({ input, meta, ...props }) => {\r\n\r\n    let hasError = meta.touched && meta.error;\r\n    return (\r\n\r\n\r\n        <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\r\n\r\n            <div>\r\n                <textarea {...input} {...props} />\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport const Input = ({ input, meta, ...props }) => {\r\n\r\n    let hasError = meta.touched && meta.error;\r\n    return (\r\n\r\n\r\n        <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\r\n\r\n            <div>\r\n                <input {...input} {...props} />\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}","export const required = (value) => {\r\n    if (value) return undefined;\r\n    return \"Field is requyred\";\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symvols`;\r\n    return undefined;\r\n}","import React from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\n\r\nlet mapStateToPropsRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedicert = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={'/login'} />;\r\n\r\n\r\n\r\n\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectCompoment = connect(mapStateToPropsRedirect, {})(RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectCompoment\r\n}\r\n\r\n","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"titleimg\":\"Profile_titleimg__2lJ8X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message_content\":\"MyPosts_message_content__36Ghe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post_block\":\"Post_post_block__3mu1-\",\"avatar\":\"Post_avatar__qS--V\",\"text_post\":\"Post_text_post__25Rt1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content_person\":\"ProfileContent_content_person__1x5eY\",\"img_person\":\"ProfileContent_img_person__27RYr\",\"info_person\":\"ProfileContent_info_person__1nCIe\",\"name\":\"ProfileContent_name__2G4oL\"};","import React from \"react\";\r\nimport s from \"./Post.module.scss\";\r\n\r\nfunction Post(props) {\r\n  return (\r\n    <div className={s.post_block}>\r\n      <div className={s.avatar}></div>\r\n      <div className={s.text_post}>{props.message}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Post;\r\n","import React from \"react\";\r\nimport s from \"./MyPosts.module.scss\";\r\nimport Post from \"./Post/Post\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { required, maxLengthCreator } from \"../../../util/validate\";\r\nimport { TextArea } from \"../../common/formsControls\";\r\n\r\nlet maxLength = maxLengthCreator(10);\r\n\r\nconst MyPosts = React.memo((props) => {\r\n\r\n  console.log('fgg');\r\n\r\n  let postsElement = props.posts.map(p => <Post key={p.id} message={p.message} />);\r\n\r\n  let onAddPost = (value) => {\r\n    props.addPost(value.postText);\r\n  }\r\n  return (\r\n    < div className={s.message_content} >\r\n      <h3>My Post</h3>\r\n      <AddNewPostRedux onSubmit={onAddPost} />\r\n      <div className={s.post_content}>\r\n        {postsElement}\r\n      </div>\r\n    </div >\r\n  );\r\n\r\n});\r\n\r\nconst AddNewPost = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <Field name=\"postText\" component={TextArea} placeholder=\"Введите сообщение\"\r\n        validate={[required, maxLength]}></Field>\r\n      <button >Sent post</button>\r\n    </form>\r\n\r\n  );\r\n}\r\n\r\nconst AddNewPostRedux = reduxForm({ form: \"newPostProfile\" })(AddNewPost);\r\n\r\nexport default MyPosts;\r\n","\r\nimport { addPostCreateAction } from \"../../../Redux/profile-reducer\";\r\nimport MyPosts from './MyPosts';\r\nimport { connect } from \"react-redux\";\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n    postText: state.profilePage.postText\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPost: (postText) => {\r\n      dispatch(addPostCreateAction(postText));\r\n    }\r\n  }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nconst StatusProfileHook = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n\r\n\r\n    let activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    let DeactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatusThunk(status);\r\n    }\r\n\r\n    let updateStatus = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            {!editMode &&\r\n                <div onClick={activateEditMode}>{props.status || \"Введите статус\"}</div>}\r\n\r\n            {editMode &&\r\n                <div>\r\n                    <input onChange={updateStatus} autoFocus=\"true\" value={status} />\r\n                    <button onClick={DeactivateEditMode} >Применить</button>\r\n                </div>\r\n            }\r\n\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default StatusProfileHook;\r\n","import React from \"react\";\r\nimport s from \"./ProfileContent.module.scss\";\r\nimport Preloader from \"../../common/preloader/Preloader\";\r\nimport StatusProfileHook from \"./StatusProfile/StatusProfileHook\";\r\n\r\nfunction ProfileContent(props) {\r\n  if (!props.profile) {\r\n    return <Preloader />\r\n  }\r\n\r\n\r\n  return (\r\n    <div className={s.content_person}>\r\n      <div className={s.img_person}>\r\n        <img src={props.profile.photos.large} alt=\"\" />\r\n      </div>\r\n      <div className={s.info_person}>\r\n        <div className={s.name}>{props.profile.fullName}</div>\r\n\r\n        <StatusProfileHook status={props.status} updateStatusThunk={props.updateStatusThunk} />\r\n        <div className={s.birth}>Birth: 2 january</div>\r\n        <div className={s.city}>City: Moscov</div>\r\n        <div className={s.education}>Education: YAT</div>\r\n        <div className={s.web_site}>{props.profile.contacts.website}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProfileContent;\r\n","import React from \"react\";\r\nimport s from \"./Profile.module.scss\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport ProfileContent from \"./PersonContent/ProfileContent\";\r\n\r\nfunction Profile(props) {\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <img src=\"title-img.png\" className={s.titleimg} alt=\"\" />\r\n\r\n      <ProfileContent profile={props.profile} status={props.status} updateStatusThunk={props.updateStatusThunk} />\r\n      <MyPostsContainer />\r\n    </div >\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n","export const getProfile = (state) => {\r\n    return state.profilePage.profile\r\n}\r\n\r\nexport const getStatus = (state) => {\r\n    return state.profilePage.status\r\n}\r\n\r\nexport const getUserId = (state) => {\r\n    return state.auth.userId\r\n}","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Profile from './Profile';\r\nimport { getProfileThunk, getStatusThunk, updateStatusThunk } from '../../Redux/profile-reducer';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { withAuthRedicert } from \"../../hoc/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\nimport { getProfile, getStatus, getUserId } from \"../../Redux/profile-select\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n  componentDidMount() {\r\n\r\n    let userId = this.props.match.params.userId;\r\n    if (!userId) {\r\n      userId = this.props.userId;\r\n    }\r\n\r\n\r\n    this.props.getProfileThunk(userId);\r\n\r\n    this.props.getStatusThunk(userId);\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Profile {...this.props} props={this.props.profile} isAuth={this.props.isAuth} status={this.props.status} updateStatusThunk={this.props.updateStatusThunk} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n  profile: getProfile(state),\r\n\r\n  status: getStatus(state),\r\n  userId: getUserId(state)\r\n});\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { getProfileThunk, getStatusThunk, updateStatusThunk }),\r\n  withRouter,\r\n  withAuthRedicert\r\n)(ProfileContainer)"],"sourceRoot":""}